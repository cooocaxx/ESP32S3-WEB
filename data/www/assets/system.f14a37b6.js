import{_ as c,d as B,r as m,i as f,g as n,f as l,w as t,E as o,b as r,e as v,h as F}from"./index.c98ada05.js";const A={class:"firmware-uploader"},D=B({__name:"system",setup(y){const s=m(),E=()=>{var e;(e=s.value)==null||e.submit()},d=(e,u)=>{var a;(a=s.value)==null||a.clearFiles(),e==="OK"?o({message:"\u56FA\u4EF6\u66F4\u65B0\u6210\u529F\uFF01\u8BBE\u5907\u6B63\u5728\u91CD\u542F\uFF0C\u8BF7\u7A0D\u540E...",type:"success",duration:5e3}):o.error('\u56FA\u4EF6\u66F4\u65B0\u5931\u8D25\uFF01\u670D\u52A1\u5668\u8FD4\u56DE "FAIL"\u3002\u8BF7\u68C0\u67E5\u8BBE\u5907\u4E32\u53E3\u65E5\u5FD7\u83B7\u53D6\u8BE6\u7EC6\u9519\u8BEF\u3002')},p=e=>{o.error(`\u4E0A\u4F20\u5931\u8D25: ${e.message}`)},_=e=>{s.value.clearFiles();const u=e[0];s.value.handleStart(u),o.warning("\u5DF2\u5C06\u4E0A\u4F20\u6587\u4EF6\u66FF\u6362\u4E3A\u6700\u65B0\u9009\u62E9\u7684\u6587\u4EF6\u3002")};return(e,u)=>{const a=r("el-button"),i=r("el-upload");return v(),f("div",A,[u[3]||(u[3]=n("h3",null,"ESP \u8BBE\u5907\u56FA\u4EF6\u66F4\u65B0",-1)),l(i,{ref_key:"uploadRef",ref:s,class:"upload-demo",name:"update",action:"/api/v1/update",limit:1,"auto-upload":!1,"on-exceed":_,"on-success":d,"on-error":p,accept:".bin"},{trigger:t(()=>[l(a,{type:"primary"},{default:t(()=>u[0]||(u[0]=[F("\u9009\u62E9\u56FA\u4EF6 (.bin)")])),_:1,__:[0]})]),tip:t(()=>u[2]||(u[2]=[n("div",{class:"el-upload__tip"}," \u8BF7\u9009\u62E9\u4E00\u4E2A .bin \u6587\u4EF6\u8FDB\u884C\u66F4\u65B0\u3002\u65B0\u7684\u6587\u4EF6\u4F1A\u8986\u76D6\u65E7\u7684\u9009\u62E9\u3002 ",-1)])),default:t(()=>[l(a,{class:"ml-3",type:"success",onClick:E},{default:t(()=>u[1]||(u[1]=[F(" \u4E0A\u4F20\u5230\u8BBE\u5907 ")])),_:1,__:[1]})]),_:1},512)])}}});var b=c(D,[["__scopeId","data-v-5fda1f9f"]]);export{b as default};
