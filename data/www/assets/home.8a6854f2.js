import{a as x}from"./axios.5396cb36.js";import{_ as k,d as C,r as V,a as B,o as h,c as A,w as t,b as i,e as D,f as a,g as n,t as u,h as d,E as F}from"./index.c98ada05.js";const q={style:{"text-align":"right"}},M={style:{"text-align":"right"}},$="horizontal",K=C({__name:"home",setup(T){const p=V(!0),f=V(!0),v=r=>{r==="sta-card"?p.value=!1:f.value=!1},w=r=>{r==="sta-card"?p.value=!0:f.value=!0},y=r=>{r==="sta-card"?(p.value=!0,x.post("/api/v1/config",{"wifi-sta":{ssid:l.sta.ssid,password:l.sta.pwd}}).then(e=>{console.log("Response data:",e.data)}).catch(e=>{e.response||(e.request?console.error("Error request:",e.request):F.error("submit failed, please check the network or backend service."))})):f.value=!0},l=B({sys:{model:"esp32-s3",fw:null,sdk:"v4.4.7-dirty",arch:{mfr:null,model:null,revision:null,cpu:null,freq:null}},mem:{total:0,free:0},fs:{total:0,used:0,free:0},ap:{ssid:"dssdvs",pwd:null,num:null},sta:{ssid:"null",pwd:"asfafsaf",status:null}});return h(()=>{x.get("/api/v1/status").then(r=>{Object.assign(l,r.data)}).catch(r=>{console.log(r)})}),(r,e)=>{const o=i("el-descriptions-item"),m=i("el-descriptions"),_=i("el-card"),b=i("el-input"),c=i("el-button"),g=i("el-popconfirm"),S=i("el-text"),E=i("el-space");return D(),A(E,{wrap:"",size:10,direction:$},{default:t(()=>[a(_,null,{header:t(()=>e[10]||(e[10]=[n("div",{class:"card-header"},[n("span",null,"SYSTEM")],-1)])),default:t(()=>[a(m,{column:"2"},{default:t(()=>[a(o,{label:"Device","label-class-name":"custom-label"},{default:t(()=>{var s;return[n("span",null,u((s=l==null?void 0:l.sys)==null?void 0:s.model),1)]}),_:1}),a(o,{label:"Version"},{default:t(()=>{var s;return[d(u((s=l==null?void 0:l.sys)==null?void 0:s.sdk),1)]}),_:1}),a(o,{label:"Freq"},{default:t(()=>{var s;return[d(u(((s=l==null?void 0:l.sys)==null?void 0:s.arch.freq)+"Mhz"),1)]}),_:1}),a(o,{label:"Firmware version"},{default:t(()=>{var s;return[d(u((s=l==null?void 0:l.sys)==null?void 0:s.fw),1)]}),_:1})]),_:1})]),_:1}),a(_,null,{header:t(()=>e[11]||(e[11]=[n("div",{class:"card-header"},[n("span",null,"MEMERY")],-1)])),default:t(()=>[a(m,{column:"2"},{default:t(()=>[a(o,{label:"Total. Availabl"},{default:t(()=>{var s;return[d(u(((s=l==null?void 0:l.mem)==null?void 0:s.total)+"KB"),1)]}),_:1}),a(o,{label:"Free"},{default:t(()=>{var s;return[d(u(((s=l==null?void 0:l.mem)==null?void 0:s.free)+"KB"),1)]}),_:1})]),_:1})]),_:1}),a(_,null,{header:t(()=>e[12]||(e[12]=[n("div",{class:"card-header"},[n("span",null,"FileSystem")],-1)])),default:t(()=>[a(m,{column:"1"},{default:t(()=>[a(o,{label:"Total Availabl"},{default:t(()=>{var s;return[d(u(((s=l==null?void 0:l.mem)==null?void 0:s.total)+"KB"),1)]}),_:1}),a(o,{label:"User"},{default:t(()=>{var s;return[d(u(((s=l==null?void 0:l.fs)==null?void 0:s.free)+"KB"),1)]}),_:1}),a(o,{label:"Free"},{default:t(()=>{var s;return[d(u(((s=l==null?void 0:l.fs)==null?void 0:s.free)+"KB"),1)]}),_:1})]),_:1})]),_:1}),a(_,null,{header:t(()=>e[13]||(e[13]=[n("div",{class:"card-header"},[n("span",null,"Wireless(AP)")],-1)])),footer:t(()=>[n("div",q,[a(c,{type:"danger",onClick:e[2]||(e[2]=s=>v("ap-card"))},{default:t(()=>e[14]||(e[14]=[d("\u4FEE\u6539")])),_:1,__:[14]}),a(g,{title:"Are you sure to submit this? ",onConfirm:e[3]||(e[3]=s=>y("ap-card")),onCancel:e[4]||(e[4]=s=>w("ap-card"))},{reference:t(()=>[a(c,{disabled:f.value},{default:t(()=>e[15]||(e[15]=[d("submit")])),_:1,__:[15]},8,["disabled"])]),_:1})])]),default:t(()=>[a(m,{column:"1"},{default:t(()=>[a(o,{label:"SSID"},{default:t(()=>[a(b,{modelValue:l.ap.ssid,"onUpdate:modelValue":e[0]||(e[0]=s=>l.ap.ssid=s),style:{width:"240px"},type:"",placeholder:"",disabled:f.value},null,8,["modelValue","disabled"])]),_:1}),a(o,{label:"PWD"},{default:t(()=>[a(b,{modelValue:l.ap.pwd,"onUpdate:modelValue":e[1]||(e[1]=s=>l.ap.pwd=s),style:{width:"240px"},type:"password",placeholder:"",disabled:f.value,"show-password":""},null,8,["modelValue","disabled"])]),_:1}),a(o,{label:"number of clients"},{default:t(()=>[n("span",null,u(l.ap.num),1)]),_:1})]),_:1})]),_:1}),a(_,null,{header:t(()=>e[16]||(e[16]=[n("div",{class:"card-header"},[n("span",null,"Wireless(STA)")],-1)])),footer:t(()=>[n("div",M,[a(c,{type:"danger",onClick:e[7]||(e[7]=s=>v("sta-card"))},{default:t(()=>e[17]||(e[17]=[d("\u4FEE\u6539")])),_:1,__:[17]}),a(g,{title:"Are you sure to submit this? ",onConfirm:e[8]||(e[8]=s=>y("sta-card")),onCancel:e[9]||(e[9]=s=>w("sta-card"))},{reference:t(()=>[a(c,{disabled:p.value},{default:t(()=>e[18]||(e[18]=[d("submit")])),_:1,__:[18]},8,["disabled"])]),_:1})])]),default:t(()=>[a(m,{column:"1",class:"sta-card"},{default:t(()=>[a(o,{label:"SSID"},{default:t(()=>[a(b,{modelValue:l.sta.ssid,"onUpdate:modelValue":e[5]||(e[5]=s=>l.sta.ssid=s),style:{width:"240px"},placeholder:"",disabled:p.value},null,8,["modelValue","disabled"])]),_:1}),a(o,{label:"pwd "},{default:t(()=>[a(b,{modelValue:l.sta.pwd,"onUpdate:modelValue":e[6]||(e[6]=s=>l.sta.pwd=s),style:{width:"240px"},type:"password",placeholder:"",disabled:p.value,"show-password":""},null,8,["modelValue","disabled"])]),_:1}),a(o,{label:"Status",type:"success"},{default:t(()=>[a(S,{type:l.sta.status?"success":"danger",style:{"font-size":"15px","font-weight":"bold"}},{default:t(()=>{var s;return[d(u((s=l==null?void 0:l.sta)!=null&&s.status?"connected":"unconnected"),1)]}),_:1},8,["type"])]),_:1})]),_:1})]),_:1})]),_:1})}}});var I=k(K,[["__scopeId","data-v-f1169c6c"]]);export{I as default};
